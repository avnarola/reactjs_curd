{"ast":null,"code":"import axios from 'axios';\nimport { HOST_URL } from '../../config/constant';\nexport const authLogin = data => {\n  return dispatch => {\n    axios.post(HOST_URL + '/authenticate', data).then(resp => {\n      localStorage.setItem(\"user\", resp.data && resp.data.data && resp.data.data.email);\n      localStorage.setItem(\"token\", resp.data && resp.data.data && resp.data.data.email);\n      return dispatch({\n        type: 'LOGIN_SUCCESS',\n        resp: resp.data\n      });\n    }).catch(err => {\n      if (err.response && err.response.data && err.response.data.non_field_errors) {\n        swal({\n          title: \"Oops\",\n          text: err.response.data.non_field_errors[0],\n          icon: \"warning\"\n        });\n        return dispatch({\n          type: 'LOGIN_FAIL',\n          resp: err.response.data.non_field_errors[0]\n        });\n      } else {\n        return dispatch({\n          type: 'LOGIN_FAIL',\n          resp: \"something went wrong\"\n        });\n      }\n    });\n  };\n}; // export const loginUser = (data) => {\n//   return axios.post('http://localhost:5000/authenticate', data)\n//     .then((res) => {\n//       //console.log('res => ', res);\n//       if (res.data && res.data.token) {\n//         localStorage.setItem(\"user\", res.data && res.data.data && res.data.data.email)\n//         localStorage.setItem(\"token\", res.data && res.data.data && res.data.data.email)\n//       }\n//       return res && res.data\n//     })\n//     .catch(err => {\n//       console.error(err);\n//       alert('Error logging in please try again');\n//     });\n// }","map":{"version":3,"sources":["/Users/c175/Documents/Node js/auth_demo/frontend/src/redux/actions/loginAction.js"],"names":["axios","HOST_URL","authLogin","data","dispatch","post","then","resp","localStorage","setItem","email","type","catch","err","response","non_field_errors","swal","title","text","icon"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,uBAAzB;AAEA,OAAO,MAAMC,SAAS,GAAIC,IAAD,IAAU;AACjC,SAAOC,QAAQ,IAAI;AACjBJ,IAAAA,KAAK,CAACK,IAAN,CAAWJ,QAAQ,GAAG,eAAtB,EAAuCE,IAAvC,EACGG,IADH,CACQC,IAAI,IAAI;AACZC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BF,IAAI,CAACJ,IAAL,IAAaI,IAAI,CAACJ,IAAL,CAAUA,IAAvB,IAA+BI,IAAI,CAACJ,IAAL,CAAUA,IAAV,CAAeO,KAA3E;AACAF,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,IAAI,CAACJ,IAAL,IAAaI,IAAI,CAACJ,IAAL,CAAUA,IAAvB,IAA+BI,IAAI,CAACJ,IAAL,CAAUA,IAAV,CAAeO,KAA5E;AACA,aAAON,QAAQ,CAAC;AACdO,QAAAA,IAAI,EAAE,eADQ;AAEdJ,QAAAA,IAAI,EAAEA,IAAI,CAACJ;AAFG,OAAD,CAAf;AAKD,KATH,EAUGS,KAVH,CAUSC,GAAG,IAAI;AACZ,UAAIA,GAAG,CAACC,QAAJ,IAAgBD,GAAG,CAACC,QAAJ,CAAaX,IAA7B,IAAqCU,GAAG,CAACC,QAAJ,CAAaX,IAAb,CAAkBY,gBAA3D,EAA6E;AAC3EC,QAAAA,IAAI,CAAC;AACHC,UAAAA,KAAK,EAAE,MADJ;AAEHC,UAAAA,IAAI,EAAEL,GAAG,CAACC,QAAJ,CAAaX,IAAb,CAAkBY,gBAAlB,CAAmC,CAAnC,CAFH;AAGHI,UAAAA,IAAI,EAAE;AAHH,SAAD,CAAJ;AAMA,eAAOf,QAAQ,CAAC;AACdO,UAAAA,IAAI,EAAE,YADQ;AAEdJ,UAAAA,IAAI,EAAEM,GAAG,CAACC,QAAJ,CAAaX,IAAb,CAAkBY,gBAAlB,CAAmC,CAAnC;AAFQ,SAAD,CAAf;AAID,OAXD,MAYK;AACH,eAAOX,QAAQ,CAAC;AACdO,UAAAA,IAAI,EAAE,YADQ;AAEdJ,UAAAA,IAAI,EAAE;AAFQ,SAAD,CAAf;AAID;AACF,KA7BH;AA8BD,GA/BD;AAgCD,CAjCM,C,CAkCP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from 'axios';\nimport { HOST_URL } from '../../config/constant';\n\nexport const authLogin = (data) => {\n  return dispatch => {\n    axios.post(HOST_URL + '/authenticate', data)\n      .then(resp => {\n        localStorage.setItem(\"user\", resp.data && resp.data.data && resp.data.data.email)\n        localStorage.setItem(\"token\", resp.data && resp.data.data && resp.data.data.email)\n        return dispatch({\n          type: 'LOGIN_SUCCESS',\n          resp: resp.data\n        })\n\n      })\n      .catch(err => {\n        if (err.response && err.response.data && err.response.data.non_field_errors) {\n          swal({\n            title: \"Oops\",\n            text: err.response.data.non_field_errors[0],\n            icon: \"warning\",\n\n          })\n          return dispatch({\n            type: 'LOGIN_FAIL',\n            resp: err.response.data.non_field_errors[0]\n          })\n        }\n        else {\n          return dispatch({\n            type: 'LOGIN_FAIL',\n            resp: \"something went wrong\"\n          })\n        }\n      })\n  }\n}\n// export const loginUser = (data) => {\n//   return axios.post('http://localhost:5000/authenticate', data)\n//     .then((res) => {\n//       //console.log('res => ', res);\n//       if (res.data && res.data.token) {\n//         localStorage.setItem(\"user\", res.data && res.data.data && res.data.data.email)\n//         localStorage.setItem(\"token\", res.data && res.data.data && res.data.data.email)\n//       }\n//       return res && res.data\n//     })\n//     .catch(err => {\n//       console.error(err);\n//       alert('Error logging in please try again');\n//     });\n// }\n"]},"metadata":{},"sourceType":"module"}