{"ast":null,"code":"import axios from 'axios';\nimport { HOST_URL } from '../../config/constant';\nexport const authLogin = data => {\n  return dispatch => {\n    axios.post(HOST_URL + '/authenticate', data).then(resp => {\n      localStorage.setItem(\"user\", resp.data && resp.data.data && resp.data.data.email);\n      localStorage.setItem(\"token\", resp.data && resp.data.token);\n      return dispatch({\n        type: 'LOGIN_SUCCESS',\n        resp: resp.data\n      });\n    }).catch(err => {\n      if (err) {\n        return dispatch({\n          type: 'LOGIN_FAIL',\n          resp: err\n        });\n      } else {\n        return dispatch({\n          type: 'LOGIN_FAIL',\n          resp: \"something went wrong\"\n        });\n      }\n    });\n  };\n};\nexport const sendMail = data => {\n  return dispatch => {\n    axios.post(HOST_URL + '/sendMail', data).then(resp => {\n      // localStorage.setItem(\"user\", resp.data && resp.data.data && resp.data.data.email)\n      // localStorage.setItem(\"token\", resp.data && resp.data.token)\n      return dispatch({\n        type: 'MAIL_SENT_SUCCESS',\n        resp: resp.data\n      });\n    }).catch(err => {\n      if (err) {\n        return dispatch({\n          type: 'MAIL_SENT_FAIL',\n          resp: err\n        });\n      } else {\n        return dispatch({\n          type: 'MAIL_SENT_FAIL',\n          resp: \"something went wrong\"\n        });\n      }\n    });\n  };\n}; // export const loginUser = (data) => {\n//   return axios.post('http://localhost:5000/authenticate', data)\n//     .then((res) => {\n//       //console.log('res => ', res);\n//       if (res.data && res.data.token) {\n//         localStorage.setItem(\"user\", res.data && res.data.data && res.data.data.email)\n//         localStorage.setItem(\"token\", res.data && res.data.data && res.data.data.email)\n//       }\n//       return res && res.data\n//     })\n//     .catch(err => {\n//       console.error(err);\n//       alert('Error logging in please try again');\n//     });\n// }","map":{"version":3,"sources":["/Users/c175/Documents/Node js/auth_demo/frontend/src/redux/actions/loginAction.js"],"names":["axios","HOST_URL","authLogin","data","dispatch","post","then","resp","localStorage","setItem","email","token","type","catch","err","sendMail"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,uBAAzB;AAEA,OAAO,MAAMC,SAAS,GAAIC,IAAD,IAAU;AACjC,SAAOC,QAAQ,IAAI;AACjBJ,IAAAA,KAAK,CAACK,IAAN,CAAWJ,QAAQ,GAAG,eAAtB,EAAuCE,IAAvC,EACGG,IADH,CACQC,IAAI,IAAI;AACZC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BF,IAAI,CAACJ,IAAL,IAAaI,IAAI,CAACJ,IAAL,CAAUA,IAAvB,IAA+BI,IAAI,CAACJ,IAAL,CAAUA,IAAV,CAAeO,KAA3E;AACAF,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,IAAI,CAACJ,IAAL,IAAaI,IAAI,CAACJ,IAAL,CAAUQ,KAArD;AACA,aAAOP,QAAQ,CAAC;AACdQ,QAAAA,IAAI,EAAE,eADQ;AAEdL,QAAAA,IAAI,EAAEA,IAAI,CAACJ;AAFG,OAAD,CAAf;AAID,KARH,EASGU,KATH,CASSC,GAAG,IAAI;AACZ,UAAIA,GAAJ,EAAS;AACP,eAAOV,QAAQ,CAAC;AACdQ,UAAAA,IAAI,EAAE,YADQ;AAEdL,UAAAA,IAAI,EAAEO;AAFQ,SAAD,CAAf;AAID,OALD,MAMK;AACH,eAAOV,QAAQ,CAAC;AACdQ,UAAAA,IAAI,EAAE,YADQ;AAEdL,UAAAA,IAAI,EAAE;AAFQ,SAAD,CAAf;AAID;AACF,KAtBH;AAuBD,GAxBD;AAyBD,CA1BM;AA4BP,OAAO,MAAMQ,QAAQ,GAAIZ,IAAD,IAAU;AAChC,SAAOC,QAAQ,IAAI;AACjBJ,IAAAA,KAAK,CAACK,IAAN,CAAWJ,QAAQ,GAAG,WAAtB,EAAmCE,IAAnC,EACGG,IADH,CACQC,IAAI,IAAI;AACZ;AACA;AACA,aAAOH,QAAQ,CAAC;AACdQ,QAAAA,IAAI,EAAE,mBADQ;AAEdL,QAAAA,IAAI,EAAEA,IAAI,CAACJ;AAFG,OAAD,CAAf;AAID,KARH,EASGU,KATH,CASSC,GAAG,IAAI;AACZ,UAAIA,GAAJ,EAAS;AACP,eAAOV,QAAQ,CAAC;AACdQ,UAAAA,IAAI,EAAE,gBADQ;AAEdL,UAAAA,IAAI,EAAEO;AAFQ,SAAD,CAAf;AAID,OALD,MAMK;AACH,eAAOV,QAAQ,CAAC;AACdQ,UAAAA,IAAI,EAAE,gBADQ;AAEdL,UAAAA,IAAI,EAAE;AAFQ,SAAD,CAAf;AAID;AACF,KAtBH;AAuBD,GAxBD;AAyBD,CA1BM,C,CA2BP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from 'axios';\nimport { HOST_URL } from '../../config/constant';\n\nexport const authLogin = (data) => {\n  return dispatch => {\n    axios.post(HOST_URL + '/authenticate', data)\n      .then(resp => {\n        localStorage.setItem(\"user\", resp.data && resp.data.data && resp.data.data.email)\n        localStorage.setItem(\"token\", resp.data && resp.data.token)\n        return dispatch({\n          type: 'LOGIN_SUCCESS',\n          resp: resp.data\n        })\n      })\n      .catch(err => {\n        if (err) {\n          return dispatch({\n            type: 'LOGIN_FAIL',\n            resp: err\n          })\n        }\n        else {\n          return dispatch({\n            type: 'LOGIN_FAIL',\n            resp: \"something went wrong\"\n          })\n        }\n      })\n  }\n}\n\nexport const sendMail = (data) => {\n  return dispatch => {\n    axios.post(HOST_URL + '/sendMail', data)\n      .then(resp => {\n        // localStorage.setItem(\"user\", resp.data && resp.data.data && resp.data.data.email)\n        // localStorage.setItem(\"token\", resp.data && resp.data.token)\n        return dispatch({\n          type: 'MAIL_SENT_SUCCESS',\n          resp: resp.data\n        })\n      })\n      .catch(err => {\n        if (err) {\n          return dispatch({\n            type: 'MAIL_SENT_FAIL',\n            resp: err\n          })\n        }\n        else {\n          return dispatch({\n            type: 'MAIL_SENT_FAIL',\n            resp: \"something went wrong\"\n          })\n        }\n      })\n  }\n}\n// export const loginUser = (data) => {\n//   return axios.post('http://localhost:5000/authenticate', data)\n//     .then((res) => {\n//       //console.log('res => ', res);\n//       if (res.data && res.data.token) {\n//         localStorage.setItem(\"user\", res.data && res.data.data && res.data.data.email)\n//         localStorage.setItem(\"token\", res.data && res.data.data && res.data.data.email)\n//       }\n//       return res && res.data\n//     })\n//     .catch(err => {\n//       console.error(err);\n//       alert('Error logging in please try again');\n//     });\n// }\n"]},"metadata":{},"sourceType":"module"}